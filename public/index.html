
<!DOCTYPE html>
<html lang="zh">
<head><!-- hexo injector head_begin start --><script src="https://cdn.jsdelivr.net/npm/echarts@5.5.1/dist/echarts.min.js"></script><!-- hexo injector head_begin end -->
    <meta charset="utf-8" />
    <title>DZ博客</title>
    <meta name="author" content="dz.cn" />
    <meta name="description" content="稳-静-思" />
    <meta name="keywords" content="" />
    <meta
        name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
    />
    <link rel="icon" href="/images/avatar.png" />

    <!--引入对应内容的js文件-->
    <link rel="preconnect" href="https://s4.zstatic.net"/>
<script src="https://s4.zstatic.net/ajax/libs/vue/3.3.7/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.4.2/css/all.min.css"/>
<link rel="preconnect" href="https://fonts.googleapis.cn"/>
<link rel="preconnect" href="https://fonts.gstatic.cn" crossorigin/>
<link
        rel="stylesheet"
        href="https://fonts.googleapis.cn/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap"
/>
<script> const mixins = {}; </script>

    <script src="https://polyfill.alicdn.com/v3/polyfill.min.js?features=default"></script>


    <script src="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://s4.zstatic.net/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
    <link
            rel="stylesheet"
            href="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/styles/github.min.css"
    />
    <script src="/js/lib/highlight.js"></script>


    <script src="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/katex.min.js"></script>
    <script src="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/contrib/auto-render.min.js"></script>
    <link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/katex.min.css"/>
    <script src="/js/lib/math.js"></script>


    <script src="/js/lib/preview.js"></script>





    <script src="/js/lib/home.js"></script>

<link rel="stylesheet" href="/css/main.css"/>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<meta name="generator" content="Hexo 8.0.0"></head>
<body>
    <div id="layout">
        <!--加载动画-->
        <transition name="fade">
            <div id="loading" v-show="loading">
                <div id="loading-circle">
                    <h2>加载中...</h2>
                    <p>加载过慢请开启缓存 浏览器默认开启</p>
                    <img src="/images/loading.gif" />
                </div>
            </div>
        </transition>
        <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/">
            <span>DZ博客</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;主页</span>
        </a>
        
        <a href="/echarts">
            <i class="fa-solid fa-square-poll-horizontal fa-fw"></i>
            <span>&ensp;热力图</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;文章</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;类型</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;标签</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;DZ博客</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">主页</div>
                    </div>
                </a>
                
                <a href="/echarts">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-square-poll-horizontal fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">热力图</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">文章</div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">类型</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">标签</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>


        <!--主体-->
        <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
            <!--当前要渲染的内容-->
            <!--首页上半部分-->
<div id="home-head">
    <div
        id="home-background"
        ref="homeBackground"
        data-images="/images/background/02.jpeg"
    ></div>
    <div id="home-info" @click="homeClick">
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="info">
            <div class="wrap">
                <h1>DZ博客</h1>
                <h3 class="toggle-element" data-group="1" style="display: none;"></h3>
                <h5 class="toggle-element" data-group="1" style="display: none;"></h5>
                <h3 class="toggle-element" data-group="2" style="display: none;"></h3>
                <h5 class="toggle-element" data-group="2" style="display: none;"></h5>
                <h3 class="toggle-element" data-group="3" style="display: none;"></h3>
                <h5 class="toggle-element" data-group="3" style="display: none;"></h5>
            </div>
        </span>
    </div>
</div>

<!--首页下半部分-->
<div
    id="home-posts-wrap"
    ref="homePostsWrap"
    true
>
    <!--文章-->
    <div id="home-posts">
        

<div class="post">
    <a href="/posts/a177b36e.html">
        <h2 class="post-title">MySQL 的锁</h2>
    </a>
    <div class="category-and-date">
        
        <span class="category">
            
            <a href="/categories/MySQL-%E5%AD%A6%E4%B9%A0/" style="color: #ffa2c4">
                <span class="icon">
                    <i class="fa-solid fa-bookmark fa-fw"></i>
                </span>
                MySQL 学习
            </a>
        </span>
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2025/10/25
        </span>
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <p>全局锁、表级锁、行级锁、意向锁、元数据锁、间隙锁、临键锁</p>

            
        </div>
    </div>
    <div class="post-tags">
        
        <span class="icon">
            <i class="fa-solid fa-tags fa-fw"></i>
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/MySQL/" style="color: #26a69a">MySQL</a>
        </span>
        
    </div>
    <a href="/posts/a177b36e.html" class="go-post">阅读全文</a>
</div>

<div class="post">
    <a href="/posts/cc7c02e8.html">
        <h2 class="post-title">测试文章02</h2>
    </a>
    <div class="category-and-date">
        
        <span class="category">
            
            <a href="/categories/%E6%B5%8B%E8%AF%95/" style="color: #03a9f4">
                <span class="icon">
                    <i class="fa-solid fa-bookmark fa-fw"></i>
                </span>
                测试
            </a>
        </span>
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2025/10/18
        </span>
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <p>文章缩略，支持 <code>Markdown</code> <strong>文档格式</strong></p>

            
        </div>
    </div>
    <div class="post-tags">
        
        <span class="icon">
            <i class="fa-solid fa-tags fa-fw"></i>
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/%E6%B5%8B%E8%AF%95/" style="color: #03a9f4">测试</a>
        </span>
        
    </div>
    <a href="/posts/cc7c02e8.html" class="go-post">阅读全文</a>
</div>

<div class="post">
    <a href="/posts/55755352.html">
        <h2 class="post-title">测试文章01</h2>
    </a>
    <div class="category-and-date">
        
        <span class="category">
            
            <a href="/categories/%E6%B5%8B%E8%AF%95/" style="color: #03a9f4">
                <span class="icon">
                    <i class="fa-solid fa-bookmark fa-fw"></i>
                </span>
                测试
            </a>
        </span>
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2025/10/18
        </span>
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <p>文章缩略，支持 <code>Markdown</code> <strong>文档格式</strong></p>

            
        </div>
    </div>
    <div class="post-tags">
        
        <span class="icon">
            <i class="fa-solid fa-tags fa-fw"></i>
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/%E6%B5%8B%E8%AF%95/" style="color: #03a9f4">测试</a>
        </span>
        
    </div>
    <a href="/posts/55755352.html" class="go-post">阅读全文</a>
</div>


        <div class="page-current">
    
    <span class="current">1</span>
    
    
    
    
</div>

    </div>

    <!--个人卡片信息-->
    
    <div id="home-card">
        <div id="card-style">
    <div id="card-div">
        <div class="avatar">
            <img src="/images/avatar.png" alt="avatar" />
        </div>
        <div class="name">dz.cn</div>
        <div class="description">
            <p>一条努力向上的<em>咸鱼</em></p>

        </div>
        
        
        <div class="friend-links">
            
            <div class="friend-link">
                <a target="_blank" rel="noopener" href="https://argvchs.github.io">原作者</a>
            </div>
            
        </div>
        
    </div>
</div>

    </div>
    
</div>

<!--
没办法，目前不知道如何在js中获取的全局的配置信息，也就是如果放到js中，一下信息获取不到
h3: '对于生活的态度我想...',
h5: '稳-静-思'
-->
<script>
    // 存储统计数据的变量
    let statsData = {
        pv: '加载中...', // 默认占位文本
        uv: '加载中...'
    };

    // 1. 提前请求不蒜子统计数据（非DOM依赖的API）
    function fetchBusuanziData() {
        return new Promise((resolve) => {
            // 不蒜子API接口（获取当前页面的pv和uv）
            const script = document.createElement('script');
            // 回调函数名（不蒜子会调用这个函数并传入数据）
            const callbackName = `busuanziCallback_${Date.now()}`;

            // 定义回调函数，接收不蒜子返回的数据
            window[callbackName] = (data) => {
                // 存储数据（data包含pv和uv字段）
                statsData.pv = data.site_pv;
                statsData.uv = data.site_uv;
                resolve(); // 数据获取完成
                // 清理临时脚本和回调
                document.head.removeChild(script);
                delete window[callbackName];
            };

            // 构造请求URL（使用不蒜子的计数API）
            const url = `//busuanzi.ibruce.info/busuanzi?jsonpCallback=${callbackName}`;
            script.src = url;
            document.head.appendChild(script);

            // 超时处理（防止请求失败）
            setTimeout(resolve, 3000);
        });
    }

    // 2. 等待数据请求完成后，初始化切换逻辑
    fetchBusuanziData().then(() => {
        // 定义要切换的两组内容（使用缓存的具体数字）
        const contentGroups = [
            {
                h3: '对于生活的态度我想...',
                h5: '稳-静-思'
            }
        ];

        // 调用一言API
        fetch('https://v1.hitokoto.cn/')
            .then(response => {
                // 先判断请求是否成功（HTTP状态码200-299）
                if (!response.ok) {
                    throw new Error(`请求失败：${response.status}`);
                }
                // 解析JSON格式的响应数据
                return response.json();
            })
            .then(data => {
                // 成功获取数据，可打印或使用
                contentGroups.push(
                    {
                        h3: data.hitokoto,
                        h5: data.from == null ? '' : `-- ${data.from}`
                    }
                );
                contentGroups.push(
                    {
                        h3: `总访问量 ${statsData.pv} 次`,
                        h5: `总访客数 ${statsData.uv} 人次`
                    }
                );

            })
            .catch(error => {
                // 捕获网络错误或请求失败
                console.error('获取一言失败：', error.message);
            });

        const typeSpeed = 100;
        const deleteSpeed = 50;
        const displayDuration = 3000;
        const initialBlankDelay = 500;
        let currentGroup = 1;

        // 打字效果函数
        function typeText(element, text, index = 0, onComplete) {
            if (index === 0) {
                element.style.display = 'block';
            }
            if (index < text.length) {
                element.innerHTML = text.substring(0, index + 1);
                setTimeout(() => typeText(element, text, index + 1, onComplete), typeSpeed);
            } else {
                onComplete && onComplete();
            }
        }

        // 删除效果函数
        function deleteText(element, callback) {
            const currentText = element.innerHTML;
            if (currentText.length > 0) {
                element.innerHTML = currentText.substring(0, currentText.length - 1);
                setTimeout(() => deleteText(element, callback), deleteSpeed);
            } else {
                element.style.display = 'none';
                callback();
            }
        }

        // 显示指定组的内容
        function showGroup(groupIndex, onComplete) {
            const targetH3 = document.querySelector(`.toggle-element[data-group="${groupIndex}"]`);
            const targetH5 = document.querySelectorAll(`.toggle-element[data-group="${groupIndex}"]`)[1];

            typeText(targetH3, contentGroups[groupIndex - 1].h3, 0, () => {
                setTimeout(() => {
                    typeText(targetH5, contentGroups[groupIndex - 1].h5, 0, onComplete);
                }, 500);
            });
        }

        // 隐藏指定组的内容
        function hideGroup(groupIndex, callback) {
            const targetH3 = document.querySelector(`.toggle-element[data-group="${groupIndex}"]`);
            const targetH5 = document.querySelectorAll(`.toggle-element[data-group="${groupIndex}"]`)[1];

            deleteText(targetH5, () => {
                deleteText(targetH3, () => {
                    callback();
                });
            });
        }

        // 切换组的主函数
        function switchGroup() {
            hideGroup(currentGroup, () => {
                currentGroup = currentGroup++ % contentGroups.length + 1;
                showGroup(currentGroup, () => {
                    setTimeout(switchGroup, displayDuration);
                });
            });
        }

        // 初始启动
        setTimeout(() => {
            showGroup(1, () => {
                setTimeout(switchGroup, displayDuration);
            });
        }, initialBlankDelay);
    });
</script>


            <!--页脚内容-->
            <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy; 2025 - 2025 DZ博客
            <i class="fa-solid fa-font-awesome fa-fw"></i>
            <a href= "http://example.com">&commat;dz.cn</a>
            <br>
            总访问量 <span id="busuanzi_value_site_pv"></span> 次 | 总访客数 <span id="busuanzi_value_site_uv"></span> 人次
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>
        </div>

        <!--图片预览-->
        
        <transition name="fade">
            <div id="preview" ref="preview" v-show="previewShow">
                <img id="preview-content" ref="previewContent" />
            </div>
        </transition>
        
    </div>

    <script src="/js/main.js"></script>
    <!--评论的显示-->
    
</body>
</html>
